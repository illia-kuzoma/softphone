(function(t){function e(e){for(var s,l,i=e[0],r=e[1],c=e[2],u=0,h=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&h.push(o[l][0]),o[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var r=a[i];0!==o[r]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},o={app:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1ca5":function(t,e,a){},"3b2c":function(t,e,a){},4638:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=n,t.exports=o,o.id="4678"},"52db":function(t,e,a){"use strict";var s=a("3b2c"),o=a.n(s);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("router-view")],1)},n=[],l={name:"App",components:{},data:function(){return{}}},i=l,r=(a("7c55"),a("2877")),c=a("6544"),d=a.n(c),u=a("7496"),h=Object(r["a"])(i,o,n,!1,null,null,null),g=h.exports;d()(h,{VApp:u["a"]});var p=a("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"login",fluid:"","fill-height":""}},[s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{staticClass:"login-form"},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{staticClass:"login-header",attrs:{flat:""}},[s("v-img",{staticClass:"shrink login-logo",attrs:{alt:"Logo",contain:"",transition:"scale-transition",width:"163",src:a("b463")}})],1),s("v-card-text",[s("v-form",{staticClass:"form"},[s("p",{staticClass:"placeholder"},[t._v("EMAIL")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:{inputWarning:t.isValid},attrs:{type:"text",id:"email",required:"",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[s("p",{staticClass:"placeholder"},[t._v("PASSWORD")]),s("p",{staticClass:"placeholder forgot",on:{click:t.forgotFunc}},[t._v(" Forgot Password? ")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{inputWarning:t.isValid},attrs:{id:"password",type:"password",required:"",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1),s("v-card-actions",[s("v-btn",{staticClass:"login-button",on:{click:t.validate}},[t._v("Log In ")])],1)],1)],1)],1)],1)],1)],1)},f=[],v=a("bc3a"),b=a.n(v),D={name:"HttpService",props:{},data:function(){return{}},methods:{post:function(t,e){var a=localStorage.serve_host+t;return b.a.post(a,e)},get:function(t){var e=localStorage.serve_host+t;return b.a.get(e)}}},_={name:"Login",data:function(){return{email:"",password:"",isValid:!1}},methods:{validate:function(){""!==this.email&&""!==this.password||(this.isValid=!0),""!==this.email&&""!==this.password&&this.login()},login:function(){var t=this;this.$loading(!0),""!==localStorage.serve_host&&(localStorage.serve_host=""),"localhost"===window.location.hostname||"callcentrcl.wellnessliving.com"===window.location.hostname?localStorage.serve_host="http://callcentr.wellnessliving.com":localStorage.serve_host="http://softphone",D.methods.post("/auth",{email:this.email,password:this.password}).then((function(e){t.$loading(!1),e.data.user&&(t.$store.state.user=e.data.user,localStorage.token=e.data.token,kt.push("/dashboard/missed-calls")),!0===e.data.error&&(localStorage.token="-",t.isValid=!0,alert(e.data.message))})).catch((function(e){localStorage.token="-",console.log(e),alert("Something went wrong"),t.$loading(!1)}))},forgotFunc:function(){console.log("forgot password")}},created:function(){console.log("think about redirect to dashboard If token not empty")}},y=_,k=(a("aabf"),a("8336")),C=a("b0af"),T=a("99d9"),S=a("a523"),j=a("a75b"),Y=a("0e8f"),w=a("4bd4"),M=a("adda"),x=a("a722"),A=a("71d9"),P=Object(r["a"])(y,m,f,!1,null,"73f9c3ad",null),B=P.exports;d()(P,{VBtn:k["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["b"],VContainer:S["a"],VContent:j["a"],VFlex:Y["a"],VForm:w["a"],VImg:M["a"],VLayout:x["a"],VToolbar:A["a"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("HeaderComponent",{attrs:{userObject:t.userData}}),a("div",{staticClass:"dashboard"},[a("div",[a("v-tabs",{staticClass:"tabs",attrs:{centered:"",grow:"",height:"60px"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.id,attrs:{to:e.path,exact:""}},[t._v(" "+t._s(e.name)+" ")])})),1),a("router-view")],1)])],1)},I=[],$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"row"},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Logo",contain:"",transition:"scale-transition",width:"257",src:a("6d80")}}),s("div",{staticClass:"side"},[t.userData?s("img",{staticClass:"round",attrs:{alt:"user",src:t.userData.photo_url}}):t._e(),t.userData?s("div",{staticClass:"menu"},[s("div",{staticClass:"username",on:{click:t.showModal}},[s("p",{staticClass:"name"},[t._v(t._s(t.userData.first_name)+" "+t._s(t.userData.last_name))]),s("p",{staticClass:"role"},[t._v(t._s(t.userData.role))])]),t._m(0)]):t._e()])],1)])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submenu"},[a("p",[t._v("Login")])])}],U={name:"HeaderComponent",props:["userObject"],data:function(){return{isShowDropdown:!1,userData:null}},methods:{showModal:function(){this.isShowDropdown=!0},getUserData:function(){var t=this.$store.state.user;this.userData=t,console.log(this.$store.state),console.log(this.$store.state.user)},setUserData:function(t){console.log("HeaderComponent setUserData newValue"),this.userData=t}},watch:{userObject:function(t){this.setUserData(t)}},created:function(){this.getUserData()}},L=U,V=(a("f2e5"),Object(r["a"])(L,$,F,!1,null,"66589cb8",null)),z=V.exports;d()(V,{VImg:M["a"]});a("411c");var N,H,E=a("c1df"),q=a.n(E),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Missed-Calls"}},[a("div",{staticClass:"missed-calls"},[a("div",{staticClass:"controls-container"},[a("div",{staticClass:"date-container"},[a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("today"),t.setActive(e)}}},[t._v("Today ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setBeforeDate(),t.setArrowActive(e)}}},[t._v("◂ ")]),a("date-picker",{staticClass:"date-item",attrs:{type:"date",valueType:"YYYY-MM-DD",format:"DD/MM/YYYY"},on:{change:function(e){return t.dateSelected()}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setNextDate(),t.setArrowActive(e)}}},[t._v("▸ ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("day"),t.setActive(e)}}},[t._v("Day ")]),a("button",{staticClass:"button button-li date-item color-grey color-dark",on:{click:function(e){t.setDate("week"),t.setActive(e)}}},[t._v("Week ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("month"),t.setActive(e)}}},[t._v("Month ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("year"),t.setActive(e)}}},[t._v("Year ")])],1),a("div",{staticClass:"search-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",id:"search",placeholder:"Search...",name:"search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("button",{staticClass:"button color-violet",attrs:{id:"search-button"},on:{click:function(e){t.search(t.searchText)}}},[t._v("Search ")])]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){return t.updateData()}}},[t._v(" Update Data ")])]),a("div",{staticClass:"controls-container multiselect-items"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Select Department(s)")]),a("multiselect",{attrs:{options:t.department_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.department_multiple_selected_value,callback:function(e){t.department_multiple_selected_value=e},expression:"department_multiple_selected_value"}})],1),a("div",[a("label",{staticClass:"typo__label"},[t._v("Select Team(s)")]),a("multiselect",{attrs:{options:t.team_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.team_multiple_selected_value,callback:function(e){t.team_multiple_selected_value=e},expression:"team_multiple_selected_value"}})],1),a("div",[a("label",{staticClass:"typo__label"},[t._v("Select agent(s)")]),a("multiselect",{attrs:{options:t.agent_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.agent_multiple_selected_value,callback:function(e){t.agent_multiple_selected_value=e},expression:"agent_multiple_selected_value"}})],1)]),0!==Object.keys(t.chartData).length?a("div",{staticClass:"chart-container"},[a("h2",[t._v("MISSED CALLS")]),t.chartData?a("line-chart",{staticClass:"chart",attrs:{id:"chartId",chartObject:t.chartData,"is-resizable":!0,"use-css-transforms":!0},on:{clicked:t.getAgentFromChart,close:t.ffFff}}):t._e()],1):t._e(),0===Object.keys(t.chartData).length?a("div",{staticClass:"table-container"},[a("h1",[t._v("No Chart Data For This Period")])]):t._e(),t.tableCallsData.length>0?a("div",{staticClass:"table-container"},[a("v-data-table",{staticClass:"v-data-table elevation-1",attrs:{headers:t.tableCallsHeaders,items:t.tableCallsData,"items-per-page":20,page:t.tablePage,options:t.options,"hide-default-footer":!0,"fixed-header":""},on:{"update:page":[function(e){t.tablePage=e},t.updatePage],"update:options":function(e){t.options=e},"update:sort-desc":t.updateSortDesc},scopedSlots:t._u([{key:"item.user_data",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("img",{attrs:{src:s.user_data.photo_url,alt:""}}),a("p",[t._v(t._s(s.user_data.full_name))])])]}},{key:"item.user_data.department",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.department.name))])])]}},{key:"item.user_data.team",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.team.name))])])]}},{key:"item.business",fn:function(e){var s=e.item;return[a("div",{staticClass:"business"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.business.business_link},on:{click:function(e){return t.goOutTo(s.business.business_link)}}},[t._v(t._s(s.business.business_name)+" ")])])]}},{key:"item.contact",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.contact.contact_link},on:{click:function(e){return t.goOutTo(s.contact.contact_link)}}},[t._v(t._s(s.contact.contact_name)+" ")])])]}},{key:"item.time_create",fn:function(e){var s=e.item;return[a("div",{staticClass:"table-date-cell"},[t._v(t._s(t.getDate(s["time_create"])))])]}}],null,!1,2219458636)}),t.tablePageCount>1?a("v-pagination",{staticClass:"table-pagination",attrs:{length:t.tablePageCount,"next-icon":t.nextIcon,"prev-icon":t.prevIcon},on:{input:t.changePage},model:{value:t.tablePage,callback:function(e){t.tablePage=e},expression:"tablePage"}}):t._e()],1):t._e(),0==t.tableCallsData.length?a("div",{staticClass:"table-container"},[a("h1",[t._v("No Table Data For This Period")])]):t._e()])])},G=[],W=a("ec45"),J=a("1fca"),Z={extends:J["a"],props:["chartObject"],data:function(){return{gradient:null,clickedGradient:null,type:"horizontalBar",chartdata:{labels:[],datasets:[{label:"MISSED CALLS",data:[],backgroundColor:[]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},animation:{duration:0},scales:{yAxes:[{display:!0,gridLines:{display:!1},ticks:{beginAtZero:!0,min:0,precision:0}}],xAxes:[{gridLines:{display:!1}}]}}}},methods:{setGistData:function(t){var e=this,a=t,s=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450);s.addColorStop(0,"#727cf5"),s.addColorStop(1,"#9075da");var o=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450);for(var n in o.addColorStop(0,"#6421A7"),o.addColorStop(1,"#6421A7"),this.backgroundColor=[],this.chartdata.labels=[],this.chartdata.datasets[0].data=[],a)this.chartdata.labels.push(n),this.chartdata.datasets[0].data.push(a[n]),this.chartdata.datasets[0]["backgroundColor"].push(s);this.options["onClick"]=function(t,a){if(a[0]){var n=a[0]["_index"],l=a[0]["_chart"].data.labels[n],i=a[0]["_chart"].data.datasets[0].data[n],r={index:n,name:l,value:i};e.cellClickEvent(r);var c=e.chartdata.datasets[0]["backgroundColor"];if(c[n]===o)c[n]=s;else{for(var d=0;d<c.length;d++)c[d]=s;c[n]=o}}e.renderChart(e.chartdata,e.options)},this.renderChart(this.chartdata,this.options)},cellClickEvent:function(t){this.$emit("clicked",t)}},watch:{chartObject:function(t){this.renderChart({},{}),this.setGistData(t)}},mounted:function(){this.setGistData(this.chartObject)}},K=Z,Q=Object(r["a"])(K,N,H,!1,null,null,null),X=Q.exports,tt=a("8e5f"),et=a.n(tt),at={name:"MissedCalls",components:{DatePicker:W["a"],LineChart:X,Multiselect:et.a},data:function(){return{selectedDate:null,dateType:"date",chartData:[],userData:[],tableCallsData:[],serverChartData:null,options:{},tableCallsHeaders:[{text:"Agent",value:"user_data"},{text:"Department",value:"user_data.department"},{text:"Team",value:"user_data.team"},{text:"Business Name",value:"business"},{text:"Contact",value:"contact",width:200},{text:"Phone",value:"phone",sortable:!1,width:150},{text:"Created Time",value:"time_create",sortable:!1,width:120}],tablePage:null,tableSort:null,tablePageCount:null,tableItemsPerPage:null,searchText:null,selectedAgent:null,selectedAgentUid:null,agent_multiple_options:[],agent_multiple_selected_value:null,department_multiple_options:[],department_multiple_selected_value:null,team_multiple_options:[],team_multiple_selected_value:null,nextIcon:">",prevIcon:"<",s_agent_id:"",s_department_id:"",s_team_id:"",period:"week"}},methods:{getPeriod:function(){return this.period},getDate:function(t){var e=new Date(1e3*t),a=q()(e).format("ll"),s=q()(e).format("hh:mm:ss a");return s+" "+a},setUsers:function(){this.selectedAgentUid=null,this.setDate(this.period)},setDepartments:function(){this.selectedAgentUid=null,this.setDate(this.period)},ffFff:function(){console.log("!!!!!!!!")},setDate:function(t){switch(console.log(localStorage.serve_host),this.period=t,this.searchText="",this.period){case"today":var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,console.log("today="+e),this.selectedDate=e,this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"day":console.log("day="+this.selectedDate),this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"week":console.log("week="+this.selectedDate),this.getDataByDate(this.selectedDate,"week"),this.period="week";break;case"month":console.log("month="+this.selectedDate),this.getDataByDate(this.selectedDate,"month"),this.period="month";break;case"year":console.log("year="+this.selectedDate),this.getDataByDate(this.selectedDate,"year"),this.period="year";break;default:this.period="week";break}},setBeforeDate:function(){console.log("setBeforeDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()-1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()-7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()-1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()-1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},setNextDate:function(){console.log("setNextDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()+1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()+7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()+1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()+1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},datePickerSetDefaultPeriod:function(t){var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,this.selectedDate=e,console.log("datePickerSetDefaultPeriod="+t),this.period=t},setArrowActive:function(t){var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue"),console.log("setArrowActive"),t.target.classList.add("color-blue")},setActive:function(t){document.querySelector(".color-dark").classList.remove("color-dark"),t.target.classList.add("color-dark");var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue")},search:function(){console.log(),this.getDataByOptions()},getAgentFromChart:function(t){return this.selectedAgentUid===this.serverChartData[t["index"]]["uid"]?(this.selectedAgent=null,this.selectedAgentUid=this.s_agent_id||null,void this.getDataByOptions()):t?(this.selectedAgent=this.serverChartData[t["index"]],this.selectedAgentUid=this.serverChartData[t["index"]]["uid"],void this.getDataByOptions()):void 0},changePage:function(t){this.options.page=t,this.getDataByOptions()},goOutTo:function(t){console.log("authrize and goto",t)},updatePage:function(){this.getDataByOptions()},updateSortDesc:function(){this.getDataByOptions()},tokenIsCorrect:function(t){return!(!t||"-"===t||void 0===t)},getReportData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,a=localStorage.token;e.tokenIsCorrect(a)?(this.$loading(!0),D.methods.get("/report/missed/"+(t?"refresh/":"")+a).then((function(t){e.$loading(!1),!0===t.data.error&&(localStorage.token="",e.isValid=!0,alert(t.data.message)),e.$store.state.user=t.data.user,e.userData=t.data.user,e.setChartData(t.data.diagrama),e.setTableData(t.data.calls),e.setAgentMultiDropdown(t.data.agents),e.setDepartmentMultiDropdown(t.data.departments),e.datePickerSetDefaultPeriod(e.period)})).catch((function(t){e.$loading(!1),console.log(t),e.tokenIsCorrect(a)||kt.push("/")}))):kt.push("/")},getChartData:function(){this.getReportData()},getDataByOptions:function(){var t=this;t.generateSelectedAgentIdString(),t.generateSelectedDepartmentIdString(),t.generateSelectedTeamIdString();var e=this.selectedDate||"-",a=this.period||"-",s=this.s_department_id||"-",o=this.s_team_id||"-",n=this.selectedAgentUid||this.s_agent_id||"-",l=this.searchText||"-",i=this.options.page||"-",r=this.options.sortBy[0]||"-";"user_data"===this.options.sortBy[0]&&(r="first_name"),"business"===this.options.sortBy[0]&&(r="business_name"),"contact"===this.options.sortBy[0]&&(r="contact"),"user_data.department"===this.options.sortBy[0]&&(r="department_name"),"user_data.team"===this.options.sortBy[0]&&(r="team_name");var c=this.options.sortDesc[0]||"-";!1===this.options.sortDesc[0]&&(c="asc"),!0===this.options.sortDesc[0]&&(c="desc"),this.$loading(!0),D.methods.get("/report/missed/call/"+e+"/"+a+"/"+s+"/"+o+"/"+n+"/"+l+"/"+r+"/"+c+"/"+i).then((function(e){t.$loading(!1);var a=e.data.calls;t.setTableData(a),t.setChartData(e.data.diagrama)})).catch((function(t){console.log(t)}))},getDataByDate:function(t,e){var a=this;a.generateSelectedAgentIdString(),a.generateSelectedDepartmentIdString(),a.generateSelectedTeamIdString();var s="";""!==a.s_agent_id&&(s="/"+a.s_agent_id);var o=this.s_department_id||"-",n=this.s_team_id||"-";this.$loading(!0),D.methods.get("/report/missed/call/"+t+"/"+e+"/"+o+"/"+n+s).then((function(t){a.$loading(!1);var e=t.data.calls;a.setTableData(e),a.setChartData(t.data.diagrama),a.setTeamMultiDropdown(t.data.teams),a.setAgentMultiDropdown(t.data.agents)})).catch((function(t){console.log(t)}))},getTableData:function(){var t=this;D.methods.get("/report/missed/call").then((function(e){var a=e.data.calls;t.setTableData(a)})).catch((function(t){console.log(t)}))},setChartData:function(t){var e={};this.serverChartData=t;for(var a=0;a<t.length;a++){var s=t[a].full_name,o=t[a].calls_count;e[s]=o}this.chartData=e},setTableData:function(t){this.tableCallsData=t.data,this.tablePage=parseInt(t.page),this.tablePageCount=t.pages_count},setAgentMultiDropdown:function(t){this.agent_multiple_options=t},setDepartmentMultiDropdown:function(t){console.log(t),this.department_multiple_options=t},setTeamMultiDropdown:function(t){console.log(t),this.team_multiple_options=t},generateSelectedAgentIdString:function(){console.log("generateSelectedAgentIdString");var t="";if(null!==this.agent_multiple_selected_value){var e=this.agent_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_agent_id=t},generateSelectedDepartmentIdString:function(){console.log("generateSelectedDepartmentIdString");var t="";if(null!==this.department_multiple_selected_value){var e=this.department_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_department_id=t},generateSelectedTeamIdString:function(){console.log("generateSelectedTeamIdString");var t="";if(null!==this.team_multiple_selected_value){var e=this.team_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_team_id=t},dateSelected:function(){console.log("dateSelected +"),console.log(this.selectedDate),this.getDataByDate(this.selectedDate,this.period)},updateData:function(){this.getReportData(!0)}},created:function(){this.getChartData()},mounted:function(){}},st=at,ot=(a("60bc"),a("52db"),a("8fea")),nt=a("891e"),lt=Object(r["a"])(st,R,G,!1,null,"b74a3be0",null),it=lt.exports;d()(lt,{VDataTable:ot["a"],VPagination:nt["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Agent-Status"}},[a("div",{staticClass:"agent-status"},[a("div",{staticClass:"controls-container"},[a("div",{staticClass:"date-container"},[a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("today"),t.setActive(e)}}},[t._v("Today ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setBeforeDate(),t.setArrowActive(e)}}},[t._v("◂ ")]),a("date-picker",{staticClass:"date-item",attrs:{type:"date",valueType:"YYYY-MM-DD",format:"DD/MM/YYYY"},on:{change:function(e){return t.dateSelected()}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setNextDate(),t.setArrowActive(e)}}},[t._v("▸ ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("day"),t.setActive(e)}}},[t._v("Day ")]),a("button",{staticClass:"button button-li date-item color-grey color-dark",on:{click:function(e){t.setDate("week"),t.setActive(e)}}},[t._v("Week ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("month"),t.setActive(e)}}},[t._v("Month ")]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){t.setDate("year"),t.setActive(e)}}},[t._v("Year ")])],1),a("div",{staticClass:"search-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",id:"search",placeholder:"Search...",name:"search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("button",{staticClass:"button color-violet",attrs:{id:"search-button"},on:{click:function(e){t.search(t.searchText)}}},[t._v("Search ")])]),a("button",{staticClass:"button button-li date-item color-grey",on:{click:function(e){return t.updateData()}}},[t._v(" Update Data ")])]),a("div",{staticClass:"controls-container multiselect-items"},[a("div",[a("label",{staticClass:"typo__label"},[t._v("Select Department(s)")]),a("multiselect",{attrs:{options:t.department_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.department_multiple_selected_value,callback:function(e){t.department_multiple_selected_value=e},expression:"department_multiple_selected_value"}})],1),a("div",[a("label",{staticClass:"typo__label"},[t._v("Select Team(s)")]),a("multiselect",{attrs:{options:t.team_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.team_multiple_selected_value,callback:function(e){t.team_multiple_selected_value=e},expression:"team_multiple_selected_value"}})],1),a("div",[a("label",{staticClass:"typo__label"},[t._v("Select agent(s)")]),a("multiselect",{attrs:{options:t.agent_multiple_options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"value","preselect-first":!0},on:{close:t.setUsers},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.values,o=(e.search,e.isOpen);return[s.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(" "+t._s(s.length)+" options selected ")]):t._e()]}}]),model:{value:t.agent_multiple_selected_value,callback:function(e){t.agent_multiple_selected_value=e},expression:"agent_multiple_selected_value"}})],1)]),t.tableCallsData.length>0?a("div",{staticClass:"table-container"},[a("v-data-table",{staticClass:"v-data-table elevation-1",attrs:{headers:t.tableCallsHeaders,items:t.tableCallsData,"items-per-page":20,page:t.tablePage,options:t.optionsTable,"hide-default-footer":!0,"fixed-header":""},on:{"update:page":[function(e){t.tablePage=e},t.updatePage],"update:options":function(e){t.optionsTable=e},"update:sort-desc":t.updateSortDesc},scopedSlots:t._u([{key:"item.user_data",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("img",{attrs:{src:s.user_data.photo_url,alt:""}}),a("p",[t._v(t._s(s.user_data.full_name))])])]}},{key:"item.user_data.department",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.department.name))])])]}},{key:"item.user_data.team",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.team.name))])])]}},{key:"item.business",fn:function(e){var s=e.item;return[a("div",{staticClass:"business"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.business.business_link},on:{click:function(e){return t.goOutTo(s.business.business_link)}}},[t._v(t._s(s.business.business_name)+" ")])])]}},{key:"item.contact",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.contact.contact_link},on:{click:function(e){return t.goOutTo(s.contact.contact_link)}}},[t._v(t._s(s.contact.contact_name)+" ")])])]}},{key:"item.time_create",fn:function(e){var s=e.item;return[a("div",{staticClass:"table-date-cell"},[t._v(t._s(t.getDate(s["time_create"])))])]}}],null,!1,2219458636)}),t.tablePageCount>1?a("v-pagination",{staticClass:"table-pagination",attrs:{length:t.tablePageCount,"next-icon":t.nextIcon,"prev-icon":t.prevIcon},on:{input:t.changePage},model:{value:t.tablePage,callback:function(e){t.tablePage=e},expression:"tablePage"}}):t._e()],1):t._e(),0==t.tableCallsData.length?a("div",{staticClass:"table-container"},[a("h1",[t._v("No Table Data For This Period")])]):t._e(),t.tableTotalCallsData.length>0?a("div",{staticClass:"table-container"},[a("h1",[t._v("Total Table ")]),a("v-data-table",{staticClass:"v-data-table elevation-1",attrs:{headers:t.tableTotalCallsHeaders,items:t.tableTotalCallsData,"items-per-page":20,page:t.tableTotalPage,options:t.optionsTableTotal,"hide-default-footer":!0,"fixed-header":""},on:{"update:page":[function(e){t.tableTotalPage=e},t.updateTotalPage],"update:options":function(e){t.optionsTableTotal=e},"update:sort-desc":t.updateTotalSortDesc},scopedSlots:t._u([{key:"item.user_data",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("img",{attrs:{src:s.user_data.photo_url,alt:""}}),a("p",[t._v(t._s(s.user_data.full_name))])])]}},{key:"item.user_data.department",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.department.name))])])]}},{key:"item.user_data.team",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("p",[t._v(t._s(s.user_data.team.name))])])]}},{key:"item.business",fn:function(e){var s=e.item;return[a("div",{staticClass:"business"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.business.business_link},on:{click:function(e){return t.goOutTo(s.business.business_link)}}},[t._v(t._s(s.business.business_name)+" ")])])]}},{key:"item.contact",fn:function(e){var s=e.item;return[a("div",{staticClass:"user"},[a("a",{staticClass:"url",attrs:{target:"_blank",href:s.contact.contact_link},on:{click:function(e){return t.goOutTo(s.contact.contact_link)}}},[t._v(t._s(s.contact.contact_name)+" ")])])]}},{key:"item.time_create",fn:function(e){var s=e.item;return[a("div",{staticClass:"table-date-cell"},[t._v(t._s(t.getDate(s["time_create"])))])]}}],null,!1,2219458636)}),t.tableTotalPageCount>1?a("v-pagination",{staticClass:"table-pagination",attrs:{length:t.tableTotalPageCount,"next-icon":t.nextIcon,"prev-icon":t.prevIcon},on:{input:t.changeTotalPage},model:{value:t.tableTotalPage,callback:function(e){t.tableTotalPage=e},expression:"tableTotalPage"}}):t._e()],1):t._e(),0==t.tableTotalCallsData.length?a("div",{staticClass:"table-container"},[a("h1",[t._v("No Table Data For This Period")])]):t._e()])])},ct=[],dt=(a("b64b"),{name:"AgentStatus",components:{DatePicker:W["a"],Multiselect:et.a},data:function(){return{selectedDate:null,dateType:"date",chartData:[],userData:[],serverChartData:null,optionsTable:{},tableCallsData:[],tableCallsHeaders:[{text:"Agent",value:"user_data"},{text:"Status Name",value:"name"},{text:"Status Value",value:"value"},{text:"Status In",value:"time_start"},{text:"Status Out",value:"time_end",width:200},{text:"Status Duration",value:"duration",sortable:!1,width:150}],tablePage:null,tableSort:null,tablePageCount:null,optionsTableTotal:{},tableTotalCallsData:[],tableTotalCallsHeaders:[{text:"Day",value:"day"},{text:"Agent Name",value:"user_data"},{text:"Name",value:"name"},{text:"Value",value:"value"},{text:"Time",value:"duration"}],tableTotalPage:null,tableTotalSort:null,tableTotalPageCount:null,searchText:null,selectedAgent:null,selectedAgentUid:null,agent_multiple_options:[],agent_multiple_selected_value:null,department_multiple_options:[],department_multiple_selected_value:null,team_multiple_options:[],team_multiple_selected_value:null,nextIcon:">",prevIcon:"<",s_agent_id:"",s_department_id:"",s_team_id:"",period:"week"}},methods:{getPeriod:function(){return this.period},getDate:function(t){var e=new Date(1e3*t),a=q()(e).format("ll"),s=q()(e).format("hh:mm:ss a");return s+" "+a},setUsers:function(){this.selectedAgentUid=null,this.setDate(this.period)},setDepartments:function(){this.selectedAgentUid=null,this.setDate(this.period)},setDate:function(t){switch(console.log(localStorage.serve_host),this.period=t,this.searchText="",this.period){case"today":var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,console.log("today="+e),this.selectedDate=e,this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"day":console.log("day="+this.selectedDate),this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"week":console.log("week="+this.selectedDate),this.getDataByDate(this.selectedDate,"week"),this.period="week";break;case"month":console.log("month="+this.selectedDate),this.getDataByDate(this.selectedDate,"month"),this.period="month";break;case"year":console.log("year="+this.selectedDate),this.getDataByDate(this.selectedDate,"year"),this.period="year";break;default:this.period="week";break}},setBeforeDate:function(){console.log("setBeforeDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()-1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()-7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()-1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()-1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},setNextDate:function(){console.log("setNextDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()+1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()+7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()+1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()+1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},datePickerSetDefaultPeriod:function(t){var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,this.selectedDate=e,this.period=t},setArrowActive:function(t){var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue"),t.target.classList.add("color-blue")},setActive:function(t){document.querySelector(".color-dark").classList.remove("color-dark"),t.target.classList.add("color-dark");var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue")},search:function(){this.getDataByOptions({})},getAgentFromChart:function(t){return this.selectedAgentUid===this.serverChartData[t["index"]]["uid"]?(this.selectedAgent=null,this.selectedAgentUid=this.s_agent_id||null,void this.getDataByOptions({})):t?(this.selectedAgent=this.serverChartData[t["index"]],this.selectedAgentUid=this.serverChartData[t["index"]]["uid"],void this.getDataByOptions({})):void 0},changePage:function(t){this.optionsTable.page=t,this.getDataByOptions({url:"status"})},changeTotalPage:function(t){this.optionsTableTotal.page=t,this.getDataByOptions({url:"total"})},goOutTo:function(t){console.log("authrize and goto",t)},updatePage:function(){this.getDataByOptions({url:"status"})},updateTotalPage:function(){this.getDataByOptions({url:"total"})},updateSortDesc:function(){this.getDataByOptions({url:"status"})},updateTotalSortDesc:function(){this.getDataByOptions({url:"total"})},tokenIsCorrect:function(t){return!(!t||"-"===t||void 0===t)},getReportData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,a=localStorage.token;e.tokenIsCorrect(a)?(this.$loading(!0),D.methods.get("/report/agent/status/"+(t?"refresh/":"")+a).then((function(t){console.log("getReportData",t),e.$loading(!1),!0===t.data.error&&(localStorage.token="",e.isValid=!0,alert(t.data.message)),e.$store.state.user=t.data.user,e.userData=t.data.user,e.setTableData(t.data.status),e.setTableTotalData(t.data.total),e.setAgentMultiDropdown(t.data.agents),e.setDepartmentMultiDropdown(t.data.departments),e.datePickerSetDefaultPeriod(e.period)})).catch((function(t){e.errorHappen(t),e.tokenIsCorrect(a)||kt.push("/")}))):kt.push("/")},getDataByOptions:function(t){var e=this;this.generateSelectedAgentIdString(),this.generateSelectedDepartmentIdString(),this.generateSelectedTeamIdString();var a="/report/agent/status/page/",s=this.selectedDate||"-",o=this.period||"-",n=this.s_department_id||"-",l=this.s_team_id||"-",i=this.selectedAgentUid||this.s_agent_id||"-",r=this.searchText||"-",c="-",d="-",u="-";console.log("sort field = "+this.optionsTableTotal.sortBy[0]),"status"===t.url&&(a="/report/agent/status/page/",c=this.optionsTable.page,d=this.optionsTable.page,u=this.optionsTable.page),console.log("sortField1 = "+d),"total"===t.url&&(a="/report/agent/status/total/page/",c=this.optionsTableTotal.page,d=this.optionsTableTotal.page,u=this.optionsTableTotal.page),console.log("sortField2 = "+d),"user_data"===this.optionsTable.sortBy[0]&&(d="first_name"),"business"===this.optionsTable.sortBy[0]&&(d="business_name"),"contact"===this.optionsTable.sortBy[0]&&(d="contact"),"user_data.department"===this.optionsTable.sortBy[0]&&(d="department_name"),"user_data.team"===this.optionsTable.sortBy[0]&&(d="team_name"),!1===this.optionsTable.sortDesc[0]&&(u="asc"),!0===this.optionsTable.sortDesc[0]&&(u="desc"),"day"===this.optionsTableTotal.sortBy[0]&&(d="day"),"user_data"===this.optionsTableTotal.sortBy[0]&&(d="first_name"),"name"===this.optionsTable.sortBy[0]&&(d="name"),"value"===this.optionsTableTotal.sortBy[0]&&(d="value"),"duration"===this.optionsTableTotal.sortBy[0]&&(d="duration"),!1===this.optionsTableTotal.sortDesc[0]&&(u="asc"),!0===this.optionsTableTotal.sortDesc[0]&&(u="desc"),console.log("sortField3 = "+d),this.$loading(!0),0===Object.keys(t).length?(D.methods.get("/report/agent/status/page/"+s+"/"+o+"/"+n+"/"+l+"/"+i+"/"+r+"/"+d+"/"+u+"/"+c).then((function(a){e.$loading(!1),console.log("getDataByOptions status",t);var s=a.data.status;e.setTableData(s)})).catch((function(t){e.errorHappen(t)})),D.methods.get("/report/agent/status/total/page/"+s+"/"+o+"/"+n+"/"+l+"/"+i+"/"+r+"/"+d+"/"+u+"/"+c).then((function(a){e.$loading(!1),console.log("getDataByOptions total",t);var s=a.data.total;e.setTableTotalData(s)})).catch((function(t){e.errorHappen(t)}))):D.methods.get(a+s+"/"+o+"/"+n+"/"+l+"/"+i+"/"+r+"/"+d+"/"+u+"/"+c).then((function(a){if(e.$loading(!1),a.data.status){console.log("getDataByOptions status",t);var s=a.data.status;e.setTableData(s)}if(a.data.total){console.log("getDataByOptions total",t);var o=a.data.total;e.setTableTotalData(o)}})).catch((function(t){e.errorHappen(t)}))},getDataByDate:function(t,e){var a=this;a.generateSelectedAgentIdString(),a.generateSelectedDepartmentIdString(),a.generateSelectedTeamIdString();var s="";""!==a.s_agent_id&&(s="/"+a.s_agent_id);var o=this.s_department_id||"-",n=this.s_team_id||"-";this.$loading(!0),D.methods.get("/report/agent/status/page/"+t+"/"+e+"/"+o+"/"+n+s).then((function(t){console.log("getDataByDate",t),a.$loading(!1);var e=t.data.status,s=t.data.total;a.setTableData(e),a.setTableTotalData(s),a.setTeamMultiDropdown(t.data.teams),a.setAgentMultiDropdown(t.data.agents)})).catch((function(t){a.errorHappen(t)}))},setTableData:function(t){console.log("setTableData",t),this.tableCallsData=t.data,this.tablePage=parseInt(t.page),this.tablePageCount=t.pages_count},setTableTotalData:function(t){console.log("setTableData Total",t),this.tableTotalCallsData=t.data,this.tableTotalPage=parseInt(t.page),this.tableTotalPageCount=t.pages_count},setAgentMultiDropdown:function(t){this.agent_multiple_options=t},setDepartmentMultiDropdown:function(t){this.department_multiple_options=t},setTeamMultiDropdown:function(t){console.log(t),this.team_multiple_options=t},generateSelectedAgentIdString:function(){console.log("generateSelectedAgentIdString");var t="";if(null!==this.agent_multiple_selected_value){var e=this.agent_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_agent_id=t},generateSelectedDepartmentIdString:function(){console.log("generateSelectedDepartmentIdString");var t="";if(null!==this.department_multiple_selected_value){var e=this.department_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_department_id=t},generateSelectedTeamIdString:function(){console.log("generateSelectedTeamIdString");var t="";if(null!==this.team_multiple_selected_value){var e=this.team_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_team_id=t},dateSelected:function(){console.log("dateSelected +"),console.log(this.selectedDate),this.getDataByDate(this.selectedDate,this.period)},updateData:function(){this.getReportData(!0)},errorHappen:function(t){console.log("error : ",t),alert("Something went wrong!"),this.$loading(!1),this.getReportData()}},created:function(){this.getReportData()},mounted:function(){}}),ut=dt,ht=(a("9471"),Object(r["a"])(ut,rt,ct,!1,null,"253a15c4",null)),gt=ht.exports;d()(ht,{VDataTable:ot["a"],VPagination:nt["a"]});var pt={name:"HelloWorld",components:{HeaderComponent:z},data:function(){return{activeTab:null,tabs:[{name:"Missed Calls",path:"/dashboard/missed-calls",component:it},{name:"Agent Status Time Tracking",path:"/dashboard/agent-status",component:gt}],selectedDate:null,dateType:"date",chartData:[],userData:[],tableCallsData:[],serverChartData:null,options:{},tableCallsHeaders:[{text:"Agent",value:"user_data"},{text:"Business Name",value:"business"},{text:"Contact",value:"contact",width:200},{text:"Phone",value:"phone",sortable:!1,width:150},{text:"Created Time",value:"time_create",sortable:!1,width:120}],tablePage:null,tableSort:null,tablePageCount:null,tableItemsPerPage:null,searchText:null,selectedAgent:null,selectedAgentUid:null,agent_multiple_options:[],agent_multiple_selected_value:null,nextIcon:">",prevIcon:"<",s_agent_id:"",period:"week"}},methods:{getPeriod:function(){return this.period},getDate:function(t){var e=new Date(1e3*t),a=q()(e).format("ll"),s=q()(e).format("hh:mm:ss a");return s+" "+a},setUsers:function(){this.selectedAgentUid=null,this.setDate(this.period)},ffFff:function(){console.log("!!!!!!!!")},setDate:function(t){switch(this.period=t,this.searchText="",this.period){case"today":var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,console.log("today="+e),this.selectedDate=e,this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"day":console.log("day="+this.selectedDate),this.getDataByDate(this.selectedDate,"day"),this.period="day";break;case"week":console.log("week="+this.selectedDate),this.getDataByDate(this.selectedDate,"week"),this.period="week";break;case"month":console.log("month="+this.selectedDate),this.getDataByDate(this.selectedDate,"month"),this.period="month";break;case"year":console.log("year="+this.selectedDate),this.getDataByDate(this.selectedDate,"year"),this.period="year";break;default:this.period="week";break}},setBeforeDate:function(){console.log("setBeforeDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()-1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()-7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()-1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()-1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},setNextDate:function(){console.log("setNextDate "+this.period+" "+this.selectedDate);var t=q()(this.selectedDate,"YYYY-MM-DD").toDate();switch(this.period){case"today":case"day":this.selectedDate=q()(t.setDate(t.getDate()+1)).format("YYYY-MM-DD");break;case"week":this.selectedDate=q()(t.setDate(t.getDate()+7)).format("YYYY-MM-DD");break;case"month":this.selectedDate=q()(t.setMonth(t.getMonth()+1,t.getDate())).format("YYYY-MM-DD");break;case"year":this.selectedDate=q()(t.setFullYear(t.getFullYear()+1,t.getMonth(),t.getDate())).format("YYYY-MM-DD");break}this.setDate(this.period)},datePickerSetDefaultPeriod:function(t){var e=new Date,a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),e=o+"-"+s+"-"+a,this.selectedDate=e,console.log("datePickerSetDefaultPeriod="+t),this.period=t},setArrowActive:function(t){var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue"),console.log("setArrowActive"),t.target.classList.add("color-blue")},setActive:function(t){document.querySelector(".color-dark").classList.remove("color-dark"),t.target.classList.add("color-dark");var e=document.querySelector(".color-blue");null!==e&&e.classList.remove("color-blue")},search:function(){console.log(),this.getDataByOptions()},getAgentFromChart:function(t){return this.selectedAgentUid===this.serverChartData[t["index"]]["uid"]?(this.selectedAgent=null,this.selectedAgentUid=this.s_agent_id||null,void this.getDataByOptions()):t?(this.selectedAgent=this.serverChartData[t["index"]],this.selectedAgentUid=this.serverChartData[t["index"]]["uid"],void this.getDataByOptions()):void 0},changePage:function(t){this.options.page=t,this.getDataByOptions()},goOutTo:function(t){console.log("authrize and goto",t)},updatePage:function(){this.getDataByOptions()},updateSortDesc:function(){this.getDataByOptions()},tokenIsCorrect:function(t){return!(!t||"-"===t||void 0===t)},getReportData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,a=localStorage.token;e.tokenIsCorrect(a)?(this.$loading(!0),D.methods.get("/report/missed/"+(t?"refresh/":"")+a).then((function(t){e.$loading(!1),!0===t.data.error&&(localStorage.token="",e.isValid=!0,alert(t.data.message)),e.$store.state.user=t.data.user,e.userData=t.data.user,e.setChartData(t.data.diagrama),e.setTableData(t.data.calls),e.setAgentMultiDropdown(t.data.agents),e.datePickerSetDefaultPeriod(e.period)})).catch((function(t){e.$loading(!1),console.log(t),e.tokenIsCorrect(a)||kt.push("/")}))):kt.push("/")},getChartData:function(){this.getReportData()},getDataByOptions:function(){var t=this;t.generateSelectedAgentIdString();var e=this.selectedDate||"-",a=this.period||"-",s=this.selectedAgentUid||this.s_agent_id||"-",o=this.searchText||"-",n=this.options.page||"-",l=this.options.sortBy[0]||"-";"user_data"===this.options.sortBy[0]&&(l="first_name"),"business"===this.options.sortBy[0]&&(l="business_name"),"contact"===this.options.sortBy[0]&&(l="contact");var i=this.options.sortDesc[0]||"-";!1===this.options.sortDesc[0]&&(i="asc"),!0===this.options.sortDesc[0]&&(i="desc"),this.$loading(!0),D.methods.get("/report/missed/call/"+e+"/"+a+"/"+s+"/"+o+"/"+l+"/"+i+"/"+n).then((function(e){t.$loading(!1);var a=e.data.calls;t.setTableData(a),t.setChartData(e.data.diagrama)})).catch((function(t){console.log(t)}))},getDataByDate:function(t,e){var a=this;a.generateSelectedAgentIdString();var s="";""!==a.s_agent_id&&(s="/"+a.s_agent_id),this.$loading(!0),D.methods.get("/report/missed/call/"+t+"/"+e+s).then((function(t){a.$loading(!1);var e=t.data.calls;a.setTableData(e),a.setChartData(t.data.diagrama)})).catch((function(t){console.log(t)}))},getTableData:function(){var t=this;D.methods.get("/report/missed/call").then((function(e){var a=e.data.calls;t.setTableData(a)})).catch((function(t){console.log(t)}))},setChartData:function(t){var e={};this.serverChartData=t;for(var a=0;a<t.length;a++){var s=t[a].full_name,o=t[a].calls_count;e[s]=o}this.chartData=e},setTableData:function(t){this.tableCallsData=t.data,this.tablePage=parseInt(t.page),this.tablePageCount=t.pages_count},setAgentMultiDropdown:function(t){console.log(t),this.agent_multiple_options=t},generateSelectedAgentIdString:function(){console.log("generateSelectedAgentIdString");var t="";if(null!==this.agent_multiple_selected_value){var e=this.agent_multiple_selected_value,a=e.length;if(console.log(a),a)for(var s=0;s<a;s++)t+=e[s].value,s+1!==a&&(t+=",")}this.s_agent_id=t},dateSelected:function(){console.log("dateSelected +"),console.log(this.selectedDate),this.getDataByDate(this.selectedDate,this.period)},updateData:function(){this.getReportData(!0)}},created:function(){},mounted:function(){}},mt=pt,ft=(a("8280"),a("71a3")),vt=a("fe57"),bt=Object(r["a"])(mt,O,I,!1,null,"47df744e",null),Dt=bt.exports;d()(bt,{VTab:ft["a"],VTabs:vt["a"]}),s["a"].use(p["a"]);var _t=[{path:"/",name:"Login",component:B},{path:"/dashboard/:id",name:"Dashboard",component:Dt,children:[{path:"/dashboard/missed-calls",component:it},{path:"/dashboard/agent-status",component:gt}]}],yt=new p["a"]({mode:"history",base:"/",routes:_t}),kt=yt,Ct=a("2f62");s["a"].use(Ct["a"]);var Tt=new Ct["a"].Store({state:{},mutations:{},actions:{}}),St=a("f309");s["a"].use(St["a"]);var jt=new St["a"]({icons:{iconfont:"fa"}}),Yt=a("ca55");s["a"].config.productionTip=!1,s["a"].use(Ct["a"]),s["a"].use(Yt["a"],{text:"Loading ...",loading:!1,classes:["myclass"]}),new s["a"]({router:kt,store:Tt,vuetify:jt,render:function(t){return t(g)}}).$mount("#app")},"6d80":function(t,e,a){t.exports=a.p+"img/logo-dashboard.0ddf9496.png"},"6f08":function(t,e,a){},"7c55":function(t,e,a){"use strict";var s=a("6f08"),o=a.n(s);o.a},8280:function(t,e,a){"use strict";var s=a("bd29"),o=a.n(s);o.a},9471:function(t,e,a){"use strict";var s=a("1ca5"),o=a.n(s);o.a},aabf:function(t,e,a){"use strict";var s=a("4638"),o=a.n(s);o.a},b463:function(t,e,a){t.exports=a.p+"img/logo-login.68e4f711.png"},b5cf:function(t,e,a){},bd29:function(t,e,a){},f2e5:function(t,e,a){"use strict";var s=a("b5cf"),o=a.n(s);o.a}});
//# sourceMappingURL=app.52d40bc0.js.map